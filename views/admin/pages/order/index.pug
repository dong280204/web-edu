extends ../../layouts/default.pug
include ../../mixin/search.pug
include ../../mixin/pagination.pug

block main
   
    .d-flex.justify-content-between.align-items-center.mb-4
        h1.text-primary.mb-0
            i.fas.fa-users.me-2
            | Danh sách đơn hàng 
    .card.shadow-sm.mb-4
        .card-header.bg-white.py-3
            .row.align-items-center
                .col-md-8
                    form#form-search.d-flex
                        .input-group
                            input(
                                type="text"
                                placeholder="Tìm kiếm người đặt..."
                                name="keyword"
                                class="form-control"
                            )
                            button(type="submit" class="btn btn-primary")
                                i.fas.fa-search.me-1
                                | Tìm kiếm
                

        .card-body.p-0
            table.table.table-hover.align-middle.mb-0
                thead.bg-light
                    tr
                        th.text-center(width="5%") STT
                        th.text-center(width="15%") Tên sản phẩm
                        th(width="15%") Người đặt
                        th(width="25%") Email
                        th.text-center(width="10%") Số lượng
                        th.text-center(width="15%") Giá

                        th.text-center(width="15%") Thao tác
                tbody
                    -var index = 1
                    each record in cart
                        each product in record.product   
                            tr
                                td.text-center #{index++}
                                td.text-center #{product.productInfo.title}
                                td.fw-bold #{record.userInfor.fullName}
                                td.fw-bold #{record.userInfor.email}
                                td.text-center #{product.quantity}
                                td.text-center #{product.totalPrice}
                                td.text-center
                                    a(
                                        href=`/admin/user/edit/${record.id}`
                                        class="btn btn-warning btn-sm me-1"
                                        title="Chỉnh sửa"
                                    )
                                        i.fas.fa-edit Sửa
                                    a(
                                        href=`/admin/user/delete/${record.id}`
                                        class="btn btn-danger btn-sm me-1"
                                        title="Chỉnh sửa"
                                    )
                                        i.fas.fa-edit Xóa
                                    a(
                                        href=`/admin/products/detail/${product.id}`
                                        class="btn btn-info btn-sm"
                                        title="Chi tiết"
                                    )
                                        i.fas.fa-eye Chi tiết
        .card-footer.bg-white
            .row.align-items-center
                .col-md-6.text-muted
                    | Hiển thị #{4} / #{12} Đơn hàng
                .col-md-6
                    nav
                        ul.pagination
                            li.page-item
                                button(
                                    class="page-link"
                                ) Trang truoc
                            li.page-item
                                button(
                                    class="page-link active"
                                ) 1
                            li.page-item
                                button(
                                    class="page-link"
                                ) 2
                            li.page-item
                                button(
                                    class="page-link"
                                ) 3
                            li.page-item
                                button(
                                    class="page-link"
                                ) 4
                            li.page-item
                                button(
                                    class="page-link"
                                ) Ke tiep 